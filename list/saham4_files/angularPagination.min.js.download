!function(){var e="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(t,n,i){return{terminal:!0,multiElement:!0,priority:100,compile:function(a,r){var s=r.dirPaginate,o=s.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),g=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===o[2].match(g))throw"pagination directive: the 'itemsPerPage' filter must be set.";var c=o[2].replace(g,""),u=n(c);l=a,angular.forEach(l,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)});var l;var d=r.paginationId||e;return i.registerInstance(d),function(a,r,o){var g=n(o.paginationId)(a)||o.paginationId||e;i.deregisterInstance(d),i.registerInstance(g);var c=function(t,n){var i=!!t.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return n===e||i?t:t.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+n+"'")}(s,g);p=o,f=c,(l=r)[0].hasAttribute("dir-paginate-start")||l[0].hasAttribute("data-dir-paginate-start")?(p.$set("ngRepeatStart",f),l.eq(l.length-1).attr("ng-repeat-end",!0)):p.$set("ngRepeat",f);var l,p,f;h=r,angular.forEach(h,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),h.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),h.eq(h.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end");var h,m=t(r),P=function(e,t,i){var a;if(t.currentPage)a=n(t.currentPage);else{var r=(i+"__currentPage").replace(/\W/g,"_");e[r]=1,a=n(r)}return a}(a,o,g);i.setCurrentPageParser(g,P,a),void 0!==o.totalItems?(i.setAsyncModeTrue(g),a.$watch(function(){return n(o.totalItems)(a)},function(e){0<=e&&i.setCollectionLength(g,e)})):(i.setAsyncModeFalse(g),a.$watchCollection(function(){return u(a)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;i.setCollectionLength(g,t)}})),m(a),a.$on("$destroy",function(){i.deregisterInstance(g)})}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(t,n){var i=/^\d+$/,a={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(n,a,r){var o=r.paginationId||e,g=n.paginationId||r.paginationId||e;if(!t.isRegistered(g)&&!t.isRegistered(o)){var c=g!==e?" (id: "+g+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+c+"cannot be used without the corresponding pagination directive, which was not found at link time.")}n.maxSize||(n.maxSize=9);n.autoHide=void 0===n.autoHide||n.autoHide,n.directionLinks=!angular.isDefined(r.directionLinks)||n.$parent.$eval(r.directionLinks),n.boundaryLinks=!!angular.isDefined(r.boundaryLinks)&&n.$parent.$eval(r.boundaryLinks);var u=Math.max(n.maxSize,5);n.pages=[],n.pagination={last:1,current:1},n.range={lower:1,upper:1,total:1},n.$watch("maxSize",function(e){e&&(u=Math.max(n.maxSize,5),d())}),n.$watch(function(){if(t.isRegistered(g))return(t.getCollectionLength(g)+1)*t.getItemsPerPage(g)},function(e){0<e&&d()}),n.$watch(function(){if(t.isRegistered(g))return t.getItemsPerPage(g)},function(e,t){e!=t&&void 0!==t&&l(n.pagination.current)}),n.$watch(function(){if(t.isRegistered(g))return t.getCurrentPage(g)},function(e,t){e!=t&&l(e)}),n.setCurrent=function(e){t.isRegistered(g)&&f(e)&&(e=parseInt(e,10),t.setCurrentPage(g,e))},n.tracker=function(e,t){return e+"_"+t};function l(e){if(t.isRegistered(g)&&f(e)){var i=n.pagination.current;n.pages=s(e,t.getCollectionLength(g),t.getItemsPerPage(g),u),n.pagination.current=e,p(),n.onPageChange&&n.onPageChange({newPageNumber:e,oldPageNumber:i})}}function d(){if(t.isRegistered(g)){var e=parseInt(t.getCurrentPage(g))||1;n.pages=s(e,t.getCollectionLength(g),t.getItemsPerPage(g),u),n.pagination.current=e,n.pagination.last=n.pages[n.pages.length-1],n.pagination.last<n.pagination.current?n.setCurrent(n.pagination.last):p()}}function p(){if(t.isRegistered(g)){var e=t.getCurrentPage(g),i=t.getItemsPerPage(g),a=t.getCollectionLength(g);n.range.lower=(e-1)*i+1,n.range.upper=Math.min(e*i,a),n.range.total=a}}function f(e){return i.test(e)&&0<e&&e<=n.pagination.last}}},r=n.getString();void 0!==r?a.template=r:a.templateUrl=function(e,t){return t.templateUrl||n.getPath()};return a;function s(e,t,n,i){var a,r=[],s=Math.ceil(t/n),g=Math.ceil(i/2);a=e<=g?"start":s-g<e?"end":"middle";for(var c=i<s,u=1;u<=s&&u<=i;){var l=o(u,e,i,s),d=2===u&&("middle"===a||"end"===a),p=u===i-1&&("middle"===a||"start"===a);c&&(d||p)?r.push("..."):r.push(l),u++}return r}function o(e,t,n,i){var a=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-a<t?i-n+e:a<t?t-a+e:e:e}}]).filter("itemsPerPage",["paginationService",function(t){return function(n,i,a){if(void 0===a&&(a=e),!t.isRegistered(a))throw"pagination directive: the itemsPerPage id argument (id: "+a+") does not match a registered pagination-id.";var r,s;if(angular.isObject(n)){if(i=parseInt(i)||9999999999,s=t.isAsyncMode(a)?0:(t.getCurrentPage(a)-1)*i,r=s+i,t.setItemsPerPage(a,i),n instanceof Array)return n.slice(s,r);var o={};return angular.forEach(function(e){{if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}}(n).slice(s,r),function(e){o[e]=n[e]}),o}return n}}]).service("paginationService",function(){var e,t={};this.registerInstance=function(n){void 0===t[n]&&(t[n]={asyncMode:!1},e=n)},this.deregisterInstance=function(e){delete t[e]},this.isRegistered=function(e){return void 0!==t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,i){t[e].currentPageParser=n,t[e].context=i},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.setAsyncModeFalse=function(e){t[e].asyncMode=!1},this.isAsyncMode=function(e){return t[e].asyncMode}}).provider("paginationTemplate",function(){var e,t="angularUtils.directives.dirPagination.template";this.setPath=function(e){t=e},this.setString=function(t){e=t},this.$get=function(){return{getPath:function(){return t},getString:function(){return e}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}();